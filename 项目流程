问题：1、为什么要开发他
    主要是针对销售部门的管理，主要用于销售工作的安排，销售进度的跟进以及业务考核提供的数据支持
    2、为什么要自动分配？是怎么实现自动分配的？
        实现：可以用迭代器，每next一次拿一个，顺序也往后移一个，当取完的时候，捕捉一下，在进行一个生成器
              也可以用redis的列表来实现
一、涉及到的表：
    - 客户表（接客时间，最后跟进时间，当前正在沟通的销售id）
    - 客户分配表（就是把这个客户分配给每个销售）
    - 权重表
 二、业务
    - 所有的客户列表（这种权限给了销售主管，所有的客户列表都要展示出来）、
        - 实现：查询客户表
    - 公共资源：（所有的销售都能看到的）
        - 实现：查询客户表（条件：状态是未报名的，三天未跟进，十五天未成单）展示这个的目的是：以下
                在公共的资源里有一个抢单的功能，（有些新招来的销售，我的新客户来了资源是不给他的
                当她一旦转化不成功，公司就有损失了。让他去看看老的没有转换成功的这些客户，让他先去找
                他们聊，让他们先练着，因为这些客户既然转化不成功，在有别人去转化，成功率也不是很高。
                一般这种资源，会给新销售，让他做一段时间的公共资源，当然老的销售没有新客户了，他也得看看
                公共资源。）
    - 我的客户：（表示某个销售，只看自己的客户）
        - 实现：查询客户分配表（条件：当前登录的销售）
                只要吧新的客户分配给你，或者吧某个老的客户你通过抢单成为你的客户，都有了一个标准

    - 新客户：有两种来源
        - 一种是公司级别的
            手动分配或者批量导入（xlrd模块）
                - 自动分配给销售，（怎么自动分配？这就根据权重表来分配，
                按照权重的高低（决定了谁在前面，谁在后面）和每个销售可接受的数量（决定了每个人出现多少次））
                - 如果新客户来自动分配，做了一个消息提醒（微信，邮箱等）
        - 一种是个人级别的
            - 自己录入成为自己的客户（如果三天未跟进，15天未成单 ，也就变成公共资源了）



具体细节、项目流程
1、所有的客户
2、 对于销售来说（客户分为）
    - 公共的客户（条件：未报名并且（3天未跟进 or 15天未成单））
        -   /index/crm/customer/public/
        - 涉及到的知识点：
            1、时间的计算：datatime.timedelta(days=15)
               3天未跟进（当前时间-3天>最后跟进日期）
		       15天未成单（当前时间-15>接客时间）
            2、Q查询的两种方式
         - 抢单功能：
    - 我的客户：新客户
        - 如果是自己招来的客户：就成我的客户了
		- 公司资源客户：按照你的权重进行自动分配
3、对于市场部或者运营部：
    - 录入客户信息（可以有以下两大功能）
        - 单条录入客户信息：自动分配任务
            - /index/crm/customer/single/
            - 利用ModelForm的cleaned_data为客户表和客户分配表进行新增数据，其中cleaned_data中的course字段需要pop出来（多对多关系）然后
              手动添加当前用户（课程顾问），创建时间（当前时间），其中运用with transaction.atomic():事务回滚
              客户表新增数据：
                   - 获取该分配的课程顾问id
                   - 当前时间
              客户分配表中新增数据
                   - 获取新创建的客户ID
                   - 顾问ID
       - 批量录入客户信息
4、新增页面
    公共客户页面
       - 展示公共的客户（条件：未报名并且（3天未跟进 or 15天未成单））
       - 销售可抢单
            - 点击抢单按钮，发送点击的那一个客户的id到后台
            - 后台进行判断：原来的课程顾问不是自己，状态为未报名，3天未跟进或者15天未成单
    我的客户页面
        - 状态分别有（正在跟进，已成单，未跟进，未成单）
        - 根据客户分配表查出我的客户，按照状态进行排序

    系统将客户分配给销售的逻辑
        - 参考分布式系统，基于每个销售的权重和可接受客户数量，制作一个生成器，调用next方法
          则返回下一个要分配的销售

     定时任务，执行py文件，操作两张表：
        - 查找客户表，找到共有资源
        - 查找分配表中的数据，并更新状态

